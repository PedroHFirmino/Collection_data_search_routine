CREATE DATABASE corpore
    DEFAULT CHARACTER SET = 'utf8mb4';

use corpore

CREATE TABLE LPUBLIC (
    CODIGO INT PRIMARY KEY,
    TITULO VARCHAR(255),
    EDITORA INT,
    EDICAO VARCHAR(50),
    IDIMAGEM INT,
    CODCOLIGADA INT
);


CREATE TABLE LEXEMPLAR (
    CODCOLIGADA INT,
    CODPUBLIC INT,
    CODFILIAL INT,
    BLOQEMP CHAR(1),
    CODSITUACAO INT,
    NTOMBO VARCHAR(50),
    EDICAO VARCHAR(50),
    CODVOL INT
);


CREATE TABLE LSITUACAOEXEMPLAR (
    CODSITUACAO INT PRIMARY KEY,
    PERMITEEMP CHAR(1)
);


CREATE TABLE LEDITORA (
    CODIGO INT PRIMARY KEY,
    EDITOR VARCHAR(255)
);


CREATE TABLE LVOLUME (
    CODCOLIGADA INT,
    CODPUBLIC INT,
    CODIGO INT,
    DESCVOL VARCHAR(255)
);


CREATE TABLE GIMAGEM (
    ID INT PRIMARY KEY,
    IMAGEM LONGBLOB
);


CREATE TABLE LAUTOR (
    CODCOLIGADA INT,
    CODIGO INT,
    NOME VARCHAR(255)
);


CREATE TABLE LITEMAUTOR (
    CODCOLIGADA INT,
    CODITEM INT,
    CODAUTOR INT
);


CREATE TABLE LEMPRESTIMOS (
    CODPUBLIC INT,
    STATUSEMP CHAR(1),
    DTHRDEVEFETIVA DATETIME
);


CREATE TABLE LRESERVA (
    CODPUBLIC INT,
    STATUSRES CHAR(1),
    DTHLIBERACAO DATETIME
);

CREATE DATABASE integracao
    DEFAULT CHARACTER SET = 'utf8mb4';

use integracao


create Table acervoBiblioteca(
    id INT AUTO_INCREMENT PRIMARY KEY,
    codPublic INT NOT NULL,
    titulo VARCHAR (255) NOT NULL,
    codEditora int NOT NULL,
    tombo INT,
    nomeEditora VARCHAR (255) NOT NULL,
    edicao VARCHAR (255),
    volume VARCHAR (255) NULL,
    IDIMAGEM INT,
    imagem VARCHAR (255) NOT NULL,
    autor VARCHAR (255) not NULL,
    qtdeCentro INT,
    qtdeCampus INT,
    qtdeDisponivel INT,
    isReservado INT
);